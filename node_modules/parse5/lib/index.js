'use strict';

<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
var Parser = require('./parser'),
    Serializer = require('./serializer');


// Shorthands
exports.parse = function parse(html, options) {
    var parser = new Parser(options);
<<<<<<< HEAD
=======
const Parser = require('./parser');
const Serializer = require('./serializer');

// Shorthands
exports.parse = function parse(html, options) {
    const parser = new Parser(options);
>>>>>>> 782567c486993431d88a7d42ed2c18702ecdfd4f
=======
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e

    return parser.parse(html);
};

exports.parseFragment = function parseFragment(fragmentContext, html, options) {
    if (typeof fragmentContext === 'string') {
        options = html;
        html = fragmentContext;
        fragmentContext = null;
    }

<<<<<<< HEAD
<<<<<<< HEAD
    var parser = new Parser(options);
=======
    const parser = new Parser(options);
>>>>>>> 782567c486993431d88a7d42ed2c18702ecdfd4f
=======
    var parser = new Parser(options);
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e

    return parser.parseFragment(html, fragmentContext);
};

<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
exports.serialize = function (node, options) {
    var serializer = new Serializer(node, options);

    return serializer.serialize();
};


// Tree adapters
exports.treeAdapters = {
    default: require('./tree_adapters/default'),
    htmlparser2: require('./tree_adapters/htmlparser2')
};


// Streaming
// NOTE: streaming API is lazy loadable to enable bundling for platforms
// that are different from Node.js.
// See https://github.com/inikulin/parse5/issues/235.
var streamingAPI = {
    ParserStream: './parser/parser_stream',
    PlainTextConversionStream: './parser/plain_text_conversion_stream',
    SerializerStream: './serializer/serializer_stream',
    SAXParser: './sax'
};

Object.keys(streamingAPI).forEach(function (cls) {
    Object.defineProperty(exports, cls, {
        get: function () {
            try {
                return require(streamingAPI[cls]);
            }

            catch (e) {
                throw new Error(
                    cls + ' is supported only for Node.js.' +
                    'See https://github.com/inikulin/parse5/issues/235 for the details.'
                );
            }
        }
    });
});
<<<<<<< HEAD
=======
exports.serialize = function(node, options) {
    const serializer = new Serializer(node, options);

    return serializer.serialize();
};
>>>>>>> 782567c486993431d88a7d42ed2c18702ecdfd4f
=======
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
