"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = validate;
exports.validateField = validateField;
exports.validateChild = validateChild;

var _definitions = require("../definitions");

function validate(node, key, val) {
  if (!node) return;
  const fields = _definitions.NODE_FIELDS[node.type];
  if (!fields) return;
  const field = fields[key];
  validateField(node, key, val, field);
  validateChild(node, key, val);
}

function validateField(node, key, val, field) {
<<<<<<< HEAD
<<<<<<< HEAD
  if (!(field == null ? void 0 : field.validate)) return;
=======
  if (!field || !field.validate) return;
>>>>>>> 782567c486993431d88a7d42ed2c18702ecdfd4f
=======
  if (!(field == null ? void 0 : field.validate)) return;
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
  if (field.optional && val == null) return;
  field.validate(node, key, val);
}

function validateChild(node, key, val) {
  if (val == null) return;
  const validate = _definitions.NODE_PARENT_VALIDATIONS[val.type];
  if (!validate) return;
  validate(node, key, val);
}