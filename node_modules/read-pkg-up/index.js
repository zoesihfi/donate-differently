'use strict';
const findUp = require('find-up');
const readPkg = require('read-pkg');

<<<<<<< HEAD
<<<<<<< HEAD
module.exports = options => {
	return findUp('package.json', options).then(fp => {
=======
module.exports = opts => {
	return findUp('package.json', opts).then(fp => {
>>>>>>> 782567c486993431d88a7d42ed2c18702ecdfd4f
=======
module.exports = options => {
	return findUp('package.json', options).then(fp => {
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
		if (!fp) {
			return {};
		}

<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
		return readPkg(fp, options).then(pkg => ({pkg, path: fp}));
	});
};

module.exports.sync = options => {
	const fp = findUp.sync('package.json', options);
<<<<<<< HEAD
=======
		return readPkg(fp, opts).then(pkg => ({pkg, path: fp}));
	});
};

module.exports.sync = opts => {
	const fp = findUp.sync('package.json', opts);
>>>>>>> 782567c486993431d88a7d42ed2c18702ecdfd4f
=======
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e

	if (!fp) {
		return {};
	}

	return {
<<<<<<< HEAD
<<<<<<< HEAD
		pkg: readPkg.sync(fp, options),
=======
		pkg: readPkg.sync(fp, opts),
>>>>>>> 782567c486993431d88a7d42ed2c18702ecdfd4f
=======
		pkg: readPkg.sync(fp, options),
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
		path: fp
	};
};
