'use strict';
/**
 * Inquirer.js
 * A collection of common interactive command line user interfaces.
 */

var inquirer = module.exports;

/**
 * Client interfaces
 */

inquirer.prompts = {};

inquirer.Separator = require('./objects/separator');

inquirer.ui = {
  BottomBar: require('./ui/bottom-bar'),
<<<<<<< HEAD
<<<<<<< HEAD
  Prompt: require('./ui/prompt'),
=======
  Prompt: require('./ui/prompt')
>>>>>>> 782567c486993431d88a7d42ed2c18702ecdfd4f
=======
  Prompt: require('./ui/prompt'),
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
};

/**
 * Create a new self-contained prompt module.
 */
<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
inquirer.createPromptModule = function (opt) {
  var promptModule = function (questions, answers) {
    var ui;
    try {
      ui = new inquirer.ui.Prompt(promptModule.prompts, opt);
    } catch (error) {
      return Promise.reject(error);
    }
    var promise = ui.run(questions, answers);
<<<<<<< HEAD
=======
inquirer.createPromptModule = function(opt) {
  var promptModule = function(questions) {
    var ui = new inquirer.ui.Prompt(promptModule.prompts, opt);
    var promise = ui.run(questions);
>>>>>>> 782567c486993431d88a7d42ed2c18702ecdfd4f
=======
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e

    // Monkey patch the UI on the promise object so
    // that it remains publicly accessible.
    promise.ui = ui;

    return promise;
  };

  promptModule.prompts = {};

  /**
   * Register a prompt type
   * @param {String} name     Prompt type name
   * @param {Function} prompt Prompt constructor
   * @return {inquirer}
   */

<<<<<<< HEAD
<<<<<<< HEAD
  promptModule.registerPrompt = function (name, prompt) {
=======
  promptModule.registerPrompt = function(name, prompt) {
>>>>>>> 782567c486993431d88a7d42ed2c18702ecdfd4f
=======
  promptModule.registerPrompt = function (name, prompt) {
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
    promptModule.prompts[name] = prompt;
    return this;
  };

  /**
   * Register the defaults provider prompts
   */

<<<<<<< HEAD
<<<<<<< HEAD
  promptModule.restoreDefaultPrompts = function () {
=======
  promptModule.restoreDefaultPrompts = function() {
>>>>>>> 782567c486993431d88a7d42ed2c18702ecdfd4f
=======
  promptModule.restoreDefaultPrompts = function () {
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
    this.registerPrompt('list', require('./prompts/list'));
    this.registerPrompt('input', require('./prompts/input'));
    this.registerPrompt('number', require('./prompts/number'));
    this.registerPrompt('confirm', require('./prompts/confirm'));
    this.registerPrompt('rawlist', require('./prompts/rawlist'));
    this.registerPrompt('expand', require('./prompts/expand'));
    this.registerPrompt('checkbox', require('./prompts/checkbox'));
    this.registerPrompt('password', require('./prompts/password'));
    this.registerPrompt('editor', require('./prompts/editor'));
  };

  promptModule.restoreDefaultPrompts();

  return promptModule;
};

/**
 * Public CLI helper interface
 * @param  {Array|Object|Rx.Observable} questions - Questions settings array
 * @param  {Function} cb - Callback being passed the user answers
 * @return {inquirer.ui.Prompt}
 */

inquirer.prompt = inquirer.createPromptModule();

// Expose helper functions on the top level for easiest usage by common users
<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
inquirer.registerPrompt = function (name, prompt) {
  inquirer.prompt.registerPrompt(name, prompt);
};

inquirer.restoreDefaultPrompts = function () {
<<<<<<< HEAD
=======
inquirer.registerPrompt = function(name, prompt) {
  inquirer.prompt.registerPrompt(name, prompt);
};

inquirer.restoreDefaultPrompts = function() {
>>>>>>> 782567c486993431d88a7d42ed2c18702ecdfd4f
=======
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
  inquirer.prompt.restoreDefaultPrompts();
};
